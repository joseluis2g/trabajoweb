function checkPosition(e){e.each(function(){var e=$(this);$(window).scrollTop()+.5*$(window).height()>e.offset().top&&e.addClass("is-visible")})}function drags(e,i,d,a,o){var s=jQuery;e.on("mousedown vmousedown",function(t){e.addClass("cd-draggable"),i.addClass("cd-resizable");var n=e.outerWidth(),c=e.offset().left+n-t.pageX,l=d.offset().left,r=d.outerWidth(),f=l-n/2,u=l+r-n+n/2;e.parent().bind("mousemove.cd vmousemove.cd",function(e){var t=e.pageX+c-n;f>t?t=f:t>u&&(t=u);var m=100*(t+n/2-l)/r+"%";s(".cd-draggable",d).css("left",m).one("mouseup vmouseup",function(){s(this).removeClass("cd-draggable"),i.removeClass("cd-resizable")}),s(".cd-resizable",d).css("width",m),updateLabel(o,i,"left"),updateLabel(a,i,"right")}).one("mouseup vmouseup",function(d){e.removeClass("cd-draggable"),i.removeClass("cd-resizable"),e.parent().unbind("mousemove.cd vmousemove.cd ")}),t.preventDefault()}).on("mouseup vmouseup",function(d){e.removeClass("cd-draggable"),i.removeClass("cd-resizable")})}function updateLabel(e,i,d){"left"==d?e.offset().left+e.outerWidth()<i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden"):e.offset().left>i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden")}jQuery(document).ready(function(e){checkPosition(e(".cd-image-container")),e(window).on("scroll",function(){checkPosition(e(".cd-image-container"))}),e(".cd-image-container").each(function(){var i=e(this);drags(i.find(".cd-handle"),i.find(".cd-resize-img"),i,i.find('.cd-image-label[data-type="original"]'),i.find('.cd-image-label[data-type="modified"]'))}),e(window).on("resize",function(){e(".cd-image-container").each(function(){var i=e(this);updateLabel(i.find('.cd-image-label[data-type="modified"]'),i.find(".cd-resize-img"),"left"),updateLabel(i.find('.cd-image-label[data-type="original"]'),i.find(".cd-resize-img"),"right")})})});